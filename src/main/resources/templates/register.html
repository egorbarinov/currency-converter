<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<html lang="en">

<head>
    <meta charset="utf-8"/>

    <title>Регистрация</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>

<body>

<div class="container">
    <div th:replace="~{navigation :: navigation(Home)}" />
    <div class="row justify-content-left">
        <div class="col-md-6 text-left">
            <div class="card">
                <header class="card-header text-center">
                    <h4 class="card-title mt-2"><span>Регистрация</span></h4>
                </header>
                <article class="card-body">
                    <form action ="#" th:action="@{/register}" method="POST" th:object="${userForm}" class="form-horizontal" >

                        <div class="form-group">
                            <div class="col-xs-15">
                                <!-- "Пользователь с таким логином уже существует"  -->
                                <div th:if="${registrationError != null}">
                                    <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                                        <errors th:text="${registrationError}"></errors>
                                    </div>
                                </div>

                                <!-- Пользователь с таким email уже существует  -->
                                <div th:if="${mailError != null}">
                                    <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                                        <errors th:text="${mailError}"></errors>
                                    </div>
                                </div>

                                <!-- Все поля должны быть заполнены!  -->
                                <div th:if="${errorForm != null}">
                                    <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                                        <errors th:text="${errorForm}"></errors>
                                    </div>
                                </div>

                                <!-- Пароли не совпадают!  -->
                                <div th:if="${passwordError != null}">
                                    <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                                        <errors th:text="${passwordError}"></errors>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>

                            <div style="margin-bottom: 25px" class="input-group">
                                <div class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <p> <input type="text" th:field="${userForm.username}" th:placeholder="Username" class="form-control"/></p>
                            </div>

                            <div style="margin-bottom: 25px" class="input-group">

                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <p> <input type="password" th:field="${userForm.password}" th:placeholder="Password" class="form-control"/></p>
                            </div>
                            <div style="margin-bottom: 25px" class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <p> <input type="password" th:field="${userForm.passwordConfirm}" th:placeholder="Confirm_password" class="form-control"/></p>
                            </div>
                            <div style="margin-bottom: 25px" class="input-group">

                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <p> <input type="email" th:field="${userForm.email}" th:placeholder="Email" class="form-control"/></p>
                            </div>
                        </div>
                        <div class="form-row text-center">
                            <div class="col-12">
                                <button type="submit" class="btn btn-secondary" >Зарегистрироваться</button>
                            </div>
                        </div>

                    </form>
                    <a href="/index">Home</a>
                </article>
            </div>
        </div>
    </div>
</div>
</body>
</html>